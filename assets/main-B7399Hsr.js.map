{"version":3,"file":"main-B7399Hsr.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * Project: Aiv-Framz.blog\n * Final Fixed Script\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. Инициализация иконок Lucide ---\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // --- 2. Плавный скролл Lenis ---\n    let lenis;\n    if (typeof Lenis !== 'undefined') {\n        lenis = new Lenis({\n            duration: 1.2,\n            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n            smoothWheel: true\n        });\n\n        function raf(time) {\n            lenis.raf(time);\n            requestAnimationFrame(raf);\n        }\n        requestAnimationFrame(raf);\n    }\n\n    // --- 3. Анимация заголовка (SplitType + GSAP) ---\n    const heroTitle = document.querySelector('#hero-text');\n    if (heroTitle && typeof SplitType !== 'undefined' && typeof gsap !== 'undefined') {\n        \n        const textInstance = new SplitType(heroTitle, { \n            types: 'words, chars',\n            tagName: 'span' \n        });\n\n        // ИСПРАВЛЕНО: используем whiteSpace (camelCase) вместо white-space\n        gsap.set('.word', { \n            display: 'inline-block', \n            whiteSpace: 'nowrap' \n        });\n\n        gsap.from(textInstance.chars, {\n            scrollTrigger: {\n                trigger: heroTitle,\n                start: \"top 90%\",\n            },\n            opacity: 0,\n            y: 70,\n            rotateX: -90,\n            stagger: 0.02,\n            duration: 1,\n            ease: \"expo.out\",\n        });\n\n        gsap.from('.hero__subtitle, .hero__btns', {\n            opacity: 0,\n            y: 30,\n            duration: 1,\n            stagger: 0.2,\n            delay: 0.8,\n            ease: \"power3.out\"\n        });\n    }\n\n    // --- 4. Анимация появления всех секций ---\n    if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {\n        gsap.utils.toArray('.section').forEach(section => {\n            gsap.from(section, {\n                scrollTrigger: {\n                    trigger: section,\n                    start: \"top 85%\",\n                },\n                opacity: 0,\n                y: 40,\n                duration: 0.8,\n                ease: \"power2.out\"\n            });\n        });\n    }\n\n    // --- 5. Мобильное меню (Burger) ---\n    const burger = document.getElementById('burger-menu');\n    const mobileOverlay = document.getElementById('mobile-overlay');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n    if (burger && mobileOverlay) {\n        burger.addEventListener('click', () => {\n            mobileOverlay.classList.toggle('mobile-menu--active');\n            document.body.style.overflow = mobileOverlay.classList.contains('mobile-menu--active') ? 'hidden' : '';\n        });\n\n        mobileLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                mobileOverlay.classList.remove('mobile-menu--active');\n                document.body.style.overflow = '';\n            });\n        });\n    }\n\n    // --- 6. Валидация формы и Капча ---\n    const form = document.getElementById('main-form');\n    if (form) {\n        const captchaLabel = document.getElementById('captcha-label');\n        const captchaInput = document.getElementById('captcha-input');\n        const phoneInput = document.getElementById('phone-input');\n        const formStatus = document.getElementById('form-status');\n        let captchaResult;\n\n        const generateCaptcha = () => {\n            const num1 = Math.floor(Math.random() * 10) + 1;\n            const num2 = Math.floor(Math.random() * 10) + 1;\n            captchaResult = num1 + num2;\n            if (captchaLabel) captchaLabel.innerText = `${num1} + ${num2} = `;\n        };\n\n        generateCaptcha();\n\n        if (phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n            });\n        }\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== captchaResult) {\n                if (formStatus) {\n                    formStatus.innerText = \"Ошибка капчи!\";\n                    formStatus.style.color = \"red\";\n                }\n                generateCaptcha();\n                return;\n            }\n            if (formStatus) {\n                formStatus.innerText = \"Успешно отправлено!\";\n                formStatus.style.color = \"green\";\n            }\n            form.reset();\n            generateCaptcha();\n        });\n    }\n\n    // --- 7. Cookie Popup ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAccept = document.getElementById('cookie-accept');\n\n    if (cookiePopup && !localStorage.getItem('aiv_cookies_accepted')) {\n        setTimeout(() => cookiePopup.classList.add('cookie-popup--show'), 2000);\n    }\n\n    if (cookieAccept) {\n        cookieAccept.addEventListener('click', () => {\n            localStorage.setItem('aiv_cookies_accepted', 'true');\n            cookiePopup.classList.remove('cookie-popup--show');\n        });\n    }\n\n    // --- 8. Якорные ссылки ---\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                if (lenis) lenis.scrollTo(target);\n                else target.scrollIntoView({ behavior: 'smooth' });\n            }\n        });\n    });\n});"],"names":["lenis","raf","time","t","heroTitle","textInstance","section","burger","mobileOverlay","mobileLinks","link","form","captchaLabel","captchaInput","phoneInput","formStatus","captchaResult","generateCaptcha","num1","num2","e","cookiePopup","cookieAccept","anchor","target"],"mappings":"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"}